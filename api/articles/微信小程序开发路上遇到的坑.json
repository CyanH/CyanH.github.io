{"title":"微信小程序开发路上遇到的坑","slug":"微信小程序开发路上遇到的坑","date":"2018-05-14T02:28:01.000Z","updated":"2018-11-19T10:01:52.397Z","comments":true,"excerpt":"","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>前几天开发微信小程序使用map组件时，需要用到markers标记点，这个标记点在IDE和开发版都是正常显示的，在体验版中却渲染不出来。各种百度，找到一个类似的动态渲染的，然而却无法解决。最后再该贴下面评论，没想到大神还在维护自己的博客，大神的回答一语惊醒梦中人。</p>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>以前map组件标记点markers只能在初始化的时候设置，不支持动态更新，因此需要先加载值，再渲染map组件，不过现在已经没有此问题了。<br>原文链接：<a href=\"https://blog.csdn.net/eadio/article/details/53744310\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/eadio/article/details/53744310</a><br>这是我百度出来最接近我的问题的解决方法，但是各种尝试，仍然无效。最后抱着死马当活马医的心态，在下面提问了一下，没想到16年的帖子大神还在。</p>\n<p>好了，废话少说，问题就是出在IDE配置的路径校验上。<br><img src=\"/2018/05/14/微信小程序开发路上遇到的坑/ljjy.png\" alt=\"map\"><br>平常开发时为了方便内网调试，都会勾选上这个选项，然后导致问题出现时往往会被忽略掉，没找到真正的原因。</p>\n<p>附：大神给我的点拨之语<br><img src=\"/2018/05/14/微信小程序开发路上遇到的坑/db.png\" alt=\"map\"></p>\n<p>因为markers的iconPath属性不支持网络地址，需要通过wx.downloadFile接口下载得到的临时地址，而wx.downloadFile需要配置合法域名。<br><img src=\"/2018/05/14/微信小程序开发路上遇到的坑/markers.png\" alt=\"map\"><br><img src=\"/2018/05/14/微信小程序开发路上遇到的坑/ympz.png\" alt=\"map\"></p>\n","categories":[],"tags":[]}