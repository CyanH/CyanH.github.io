{"title":"hexo+github搭建个人博客","slug":"hexo+github搭建个人博客","date":"2018-11-13T13:45:28.000Z","updated":"2018-11-19T10:01:52.342Z","comments":true,"excerpt":"","content":"<h2 id=\"关于Hexo\"><a href=\"#关于Hexo\" class=\"headerlink\" title=\"关于Hexo\"></a>关于Hexo</h2><p>Hexo 是一个快速、简洁且高效的博客框架。同时还可以进行个性化定制开发。</p>\n<h2 id=\"题外\"><a href=\"#题外\" class=\"headerlink\" title=\"题外\"></a>题外</h2><p>作为一名程序猿，博客是必不可少的，不仅可以记录自己所走过的坑，还能帮助自己好好整理知识脉络。在各种博客网站浏览了一圈之后，对于UI不太满意，身为伪二次元，博客也需要满满的中二气息，笑。也想过自己建站，但是在困难的大山面前，还是小小的屈服了😂。后来在不断寻找中，终于发现了Hexo，一款可以自定义靓丽主题的装逼神器。<br>Hexo作为一个框架，既可以在GitHub中搭建，在自己的服务器里部署。不过基于服务器价格太高昂，而GitHub又提供了特别好的平台，所以就用Hexo+github搭建了属于自己的博客。<br>之前曾根据教程搭建过一起，遇到有问题的就百度，懵懵懂懂间就搭建成功了，也不理解各命令的作用。之后重装了系统发现各种报错，恼怒之下就弃了😂。近期买了台阿里云服务器，在搭建Git服务器的时候不断的熟悉，再次看教程，终于明了。</p>\n<h2 id=\"搭建过程\"><a href=\"#搭建过程\" class=\"headerlink\" title=\"搭建过程\"></a>搭建过程</h2><p>①安装Node.js和Git<br>②创建GitHub仓库，项目名格式最好为：账户名.github.io，能避免很多麻烦(如果不需要将原稿上传到GitHub，需要勾选Initialize this repository with a README。需要同步的不需要勾选)</p>\n<p>③上传GitHub（或服务器仓库）准备（此步骤是便于在不同设备间同步原稿，当然也可以通过移动硬盘、百度云等工具进行原稿的拷贝和粘贴工作，如不需要同步，请跳过此步骤）<br>1、创建新分支：hexo<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch README.md</span><br><span class=\"line\">git init</span><br><span class=\"line\">git add README.md</span><br><span class=\"line\">git commit -m <span class=\"string\">\"first commit\"</span></span><br><span class=\"line\">git remote add origin https://github.com/your-user-name/your-user-name.github.io.git（或服务器地址：git@server:/路径/sample.git）</span><br><span class=\"line\">git push -u origin master</span><br></pre></td></tr></table></figure></p>\n<p>在push的时候会要求输入密码，此时输入GitHub密码是无用的，需要去GitHub配置Personal access tokens:<br>点击右上角头像→Settings→Developer settings→Personal access tokens→Generate new token<br><img src=\"/2018/11/13/hexo+github搭建个人博客/token.png\" alt=\"token\"><br>然后再次执行push，填写your-user-name和密码就可以了。</p>\n<p>第一次使用git时会要求设置Git的user name 和 email<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">\"xxx\"</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"xxx@qq.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>因ssh链接禁止非root用户直接访问，所以需要通过上传密钥，获取链接权限<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~/.ssh   //查看是否有.ssh文件夹</span><br><span class=\"line\">ls          //查看是否有密钥，如文件夹为空，则执行生成密钥</span><br><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"xxx@qq.com\"</span>   //生成密钥</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2018/11/13/hexo+github搭建个人博客/ssh.png\" alt=\"ssh\"><br>若是自己服务器，则将id_rsa.pub上传至服务器<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp ~/.ssh/id_rsa.pub gitServer:/home/git   //前面为客户端公钥路径，后面为服务器git路径)</span><br></pre></td></tr></table></figure></p>\n<p>若是github，则<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">\"<span class=\"variable\">$(ssh-agent -s)</span>\"</span>  //添加密钥至ssh-agent</span><br><span class=\"line\">ssh-add ~/.ssh/id_rsa   //添加生成的SSH key到ssh-agent</span><br></pre></td></tr></table></figure></p>\n<p>然后登陆Github，点击头像下面的settings，添加ssh<br><img src=\"/2018/11/13/hexo+github搭建个人博客/ssh_key.png\" alt=\"ssh_key\"><br>新建，new ssh key，将id_rsa.pub文件里的内容复制上去<br><img src=\"/2018/11/13/hexo+github搭建个人博客/id_rsa.png\" alt=\"id_rsa\"><br>输入ssh -T <a href=\"mailto:git@github.com\" target=\"_blank\" rel=\"noopener\">git@github.com</a>，测试添加ssh是否成功。<br><img src=\"/2018/11/13/hexo+github搭建个人博客/ssh_success.png\" alt=\"ssh_success\"><br>如果失败，执行以下步骤：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//清除所有的key-pair</span><br><span class=\"line\">ssh-add -D</span><br><span class=\"line\">rm -r ~/.ssh</span><br><span class=\"line\">//删除在github中的ssh</span><br><span class=\"line\">//重新生成ssh密钥对</span><br><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"xxx@xx.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>再次重新上传密钥，然后进行测试 <code>ssh -T git@github.com</code></p>\n<p>（自己服务器可不建分支）<br>2、在本地新建一个分支<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch hexo</span><br></pre></td></tr></table></figure></p>\n<p>3、切换到新分支<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git checkout hexo</span><br></pre></td></tr></table></figure></p>\n<p>4、将新分支发布到GitHub上<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin hexo</span><br></pre></td></tr></table></figure></p>\n<p>5、在GitHub上设置hexo为默认分支：<br>打开该项目→Settings→Branches<br><img src=\"/2018/11/13/hexo+github搭建个人博客/branch.png\" alt=\"branch\"></p>\n<p>④Hexo创建<br>创建一个文件夹，通过Git bash执行<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo    //  安装</span><br><span class=\"line\">hexo init &lt;folder&gt;  //  如果指定 &lt;folder&gt;，便会在目前的资料夹建立一个名为 &lt;folder&gt; 的新资料夹；否则会在目前资料夹初始化。</span><br><span class=\"line\">3.  npm install     //  安装依赖，如有创建新文件夹，需进入该文件夹里</span><br><span class=\"line\">4.  npm install hexo-deployer-git</span><br><span class=\"line\">5.  hexo generate   //  生成网站</span><br><span class=\"line\">6.  hexo server     //  启动本地服务器</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2018/11/13/hexo+github搭建个人博客/hexo.png\" alt=\"hexo\"><br>访问链接，能加载出下图说明成功了<br><img src=\"/2018/11/13/hexo+github搭建个人博客/success.png\" alt=\"success\"></p>\n<p>⑤配置Deployment，在其文件夹中，找到_config.yml文件，修改repo值<br><img src=\"/2018/11/13/hexo+github搭建个人博客/config.png\" alt=\"config\"></p>\n<p>⑥新建博客<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new post <span class=\"string\">\"博客名\"</span></span><br></pre></td></tr></table></figure></p>\n<p>此时在文件夹<code>_posts</code>目录下将会看到已经创建的文件</p>\n<p>⑦生成部署<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d -g</span><br></pre></td></tr></table></figure></p>\n<p>⑧部署成功后访问网址http://用户名.github.io</p>\n<p>⑨后期维护及博客更新<br>1、依次执行git add .、git commit -m “…”、git push origin hexo指令将改动推送到GitHub分支hexo或自己服务器仓库<br>2、生成部署hexo d -g</p>\n<p>⑩添加图片的方法<br>1、配置文件<code>_config.yml</code> 里的<code>post_asset_folder</code>:选项设置为<code>true</code><br>2、在目录下安装一个插件：<code>npm install hexo-asset-image --save</code>，来自dalao：<a href=\"https://github.com/CodeFalling/hexo-asset-image\" target=\"_blank\" rel=\"noopener\">dalao的git</a><br>3、稍等片刻，运行<code>hexo n &quot;xxx&quot;</code>时就会在<code>_posts</code>文件夹下面生成<code>xxx.md</code>文件及<code>xxx</code>文件夹<br>4、在需要插入图片的地方输入<code>![你想输入的替代文字](xxxx/图片名.jpg)</code></p>\n","categories":[],"tags":[]}