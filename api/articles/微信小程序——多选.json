{"title":"微信小程序——多选","slug":"微信小程序——多选","date":"2018-05-03T07:15:49.000Z","updated":"2018-11-19T10:01:52.394Z","comments":true,"excerpt":"","content":"<h2 id=\"场景\"><a href=\"#场景\" class=\"headerlink\" title=\"场景\"></a>场景</h2><p>在不使用checkBox的情况下进行多选并改变样式<br><img src=\"/2018/05/03/微信小程序——多选/wx_dx.png\" alt=\"pic\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wxml:</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=<span class=\"string\">'crop_unsel'</span> wx:<span class=\"keyword\">for</span>=<span class=\"string\">\"&#123;&#123;crop&#125;&#125;\"</span> data-id=<span class=\"string\">\"&#123;&#123;index&#125;&#125;\"</span> wx:key=<span class=\"string\">\"crop\"</span> bindtap=<span class=\"string\">'choose'</span>&gt;</span><br><span class=\"line\">  &lt;view class=<span class=\"string\">'tab_box'</span>&gt;</span><br><span class=\"line\">    &lt;view class=<span class=\"string\">'wrap'</span>&gt;</span><br><span class=\"line\">      &lt;view class=<span class=\"string\">\"&#123;&#123;item.status === 0 ? 'un-inner' : 'inner'&#125;&#125;\"</span>&gt;&lt;/view&gt;</span><br><span class=\"line\">      &lt;image class=<span class=\"string\">'childImg'</span> hidden=<span class=\"string\">'&#123;&#123;item.status === 0&#125;&#125;'</span> src=<span class=\"string\">'./bch_img/ico_cho.png'</span>&gt;&lt;/image&gt;</span><br><span class=\"line\">      &lt;image class=<span class=\"string\">'fo_pic'</span> mode=<span class=\"string\">\"scaleToFill\"</span> src=<span class=\"string\">\"&#123;&#123;item.image_path&#125;&#125;\"</span> data-index=<span class=\"string\">\"&#123;&#123;index&#125;&#125;\"</span>&gt;&lt;/image&gt;</span><br><span class=\"line\">      &lt;text class=<span class=\"string\">'cropName'</span>&gt;&#123;&#123;item.name&#125;&#125;&lt;/text&gt;</span><br><span class=\"line\">    &lt;/view&gt;</span><br><span class=\"line\">  &lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">js:</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data:&#123;</span><br><span class=\"line\">  crop: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"string\">\"bs_crop_id\"</span>: <span class=\"string\">\"402891cc63019121016301913f590000\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"棉花\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"image_path\"</span>: <span class=\"string\">\"/picture/crop/402891cc63019121016301913f590000.jpg\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"string\">\"bs_crop_id\"</span>: <span class=\"string\">\"402891cc63019121016301913fcd0001\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"亚麻\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"image_path\"</span>: <span class=\"string\">\"/picture/crop/402891cc63019121016301913fcd0001.jpg\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"string\">\"bs_crop_id\"</span>: <span class=\"string\">\"402891cc63019121016301913fdc0002\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"红麻\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"image_path\"</span>: <span class=\"string\">\"/picture/crop/402891cc63019121016301913fdc0002.jpg\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"string\">\"bs_crop_id\"</span>: <span class=\"string\">\"402891cc6301912101630191401d0003\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"黄麻\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"image_path\"</span>: <span class=\"string\">\"/picture/crop/402891cc6301912101630191401d0003.jpg\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"string\">\"bs_crop_id\"</span>: <span class=\"string\">\"402891cc6301912101630191402e0004\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"name\"</span>: <span class=\"string\">\"大麻\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"image_path\"</span>: <span class=\"string\">\"/picture/crop/402891cc6301912101630191402e0004.jpg\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">choose: <span class=\"keyword\">function</span>(e)&#123;</span><br><span class=\"line\">  <span class=\"built_in\">let</span> id = e.currentTarget.dataset.id;  //获取自定义的ID值</span><br><span class=\"line\">  <span class=\"built_in\">let</span> crop = this.data.crop;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(crop[id].status === 1)&#123;</span><br><span class=\"line\">    crop[id].status = 0;</span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    crop[id].status = 1;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  this.setData(&#123;</span><br><span class=\"line\">    crop: crop</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wxss:</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  .crop_unsel&#123;</span><br><span class=\"line\">  width:25%;</span><br><span class=\"line\">  <span class=\"built_in\">float</span>:left;</span><br><span class=\"line\">  min-height:1px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.tab_box &#123;</span><br><span class=\"line\">  padding:10rpx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.wrap&#123;</span><br><span class=\"line\">  position:relative;</span><br><span class=\"line\">  height: 150rpx;</span><br><span class=\"line\">  border-radius:5px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.un-inner&#123;</span><br><span class=\"line\">  position:absolute;</span><br><span class=\"line\">  left:0;</span><br><span class=\"line\">  top:0;</span><br><span class=\"line\">  display:block;</span><br><span class=\"line\">  width:100%;</span><br><span class=\"line\">  height:100%;</span><br><span class=\"line\">  background:linear-gradient(to bottom,rgba(0,0,0,0.5),rgba(255,255,255,0));</span><br><span class=\"line\">  border-radius:10rpx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.inner&#123;</span><br><span class=\"line\">  position:absolute;</span><br><span class=\"line\">  left:0;</span><br><span class=\"line\">  top:0;</span><br><span class=\"line\">  display:block;</span><br><span class=\"line\">  width:100%;</span><br><span class=\"line\">  height:100%;</span><br><span class=\"line\">  background:rgba(0,0,0,0.5);</span><br><span class=\"line\">  border-radius:10rpx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.fo_pic &#123;</span><br><span class=\"line\">  width:100%;</span><br><span class=\"line\">  height:100%;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.cropName&#123;</span><br><span class=\"line\">  font-size: 15px;</span><br><span class=\"line\">  position: absolute;</span><br><span class=\"line\">  top: 12rpx;</span><br><span class=\"line\">  left: 20rpx;</span><br><span class=\"line\">  color: <span class=\"comment\">#fff;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.childImg&#123;</span><br><span class=\"line\">  width:40rpx;</span><br><span class=\"line\">  height:40rpx;</span><br><span class=\"line\">  position:absolute;</span><br><span class=\"line\">  bottom:6rpx;</span><br><span class=\"line\">  right:6rpx;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]}