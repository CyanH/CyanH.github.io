{"title":"小程序之操作句柄","slug":"小程序之操作句柄","date":"2018-05-12T01:39:45.000Z","updated":"2018-11-19T10:01:52.390Z","comments":true,"excerpt":"","content":"<h2 id=\"摘要\"><a href=\"#摘要\" class=\"headerlink\" title=\"摘要\"></a>摘要</h2><p>在做小程序项目中，免不了在子页面完成某项操作后对父页面进行刷新或者赋值操作，虽然小程序不能直接操作DOM，但是也是有类似获取句柄进行操作数据的方法。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var pages = getCurrentPages();</span><br><span class=\"line\">var currPage = pages[pages.length - 1];   //当前页面</span><br><span class=\"line\">var prevPage = pages[pages.length - 2];  //上一个页面</span><br><span class=\"line\"></span><br><span class=\"line\">//直接调用上一个页面的setData()方法，把数据存到上一个页面中去</span><br><span class=\"line\">prevPage.setData(&#123;</span><br><span class=\"line\">  data: data</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">//调用上个页面的onLoad方法</span><br><span class=\"line\">prevPage.onLoad();</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]}